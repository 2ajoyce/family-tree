(this.webpackJsonpfamily=this.webpackJsonpfamily||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/helpIcon.f51255a2.svg"},,,,,,function(e,t,n){e.exports=n(26)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(6),l=n.n(o),c=(n(20),n(1)),i=n(7),u=n(2),d=n(28),s=(n(21),n(4)),p=function(e,t){return e&&e.last_updated?t&&t.last_updated?e.id===t.id?0:e.last_updated<t.last_updated?1:-1:1:-1},m=function(e,t){return e.find((function(e){return e.id===t.spouse}))},g=function(e,t){return e.filter((function(e){var n;return null===t||void 0===t||null===(n=t.parents)||void 0===n?void 0:n.includes(e.id)}))},E=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"406be5f4-09dc-46a4-b604-493f6243952d";return!!n.parents&&(!!n.parents.includes(a)||g(t,n).some((function(n){return e(t,n)})))},h=(n(22),n(9)),f=n.n(h);n(23);var b=function(e){var t=e.people,n=e.parents,o=e.setParents,l=Object(a.useMemo)((function(){return t.sort(p).map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))}),[t]);return r.a.createElement("label",null,"Parents:",r.a.createElement("img",{className:"helpIcon",src:f.a,id:"ParentSelector_helpIcon",alt:"help icon",title:"Ctrl + click to select multiple parents",tabIndex:0}),r.a.createElement("span",{id:"ParentSelector_helpIcon_text"},"Ctrl + click to select multiple parents"),r.a.createElement("select",{name:"parents",className:"right-aligned",multiple:!0,onChange:function(e){return o(Array.from(e.target.selectedOptions,(function(e){return e.value})))},value:n,size:10},l))};var y=function(e){var t=e.people,n=e.person,o=e.setPerson,l=e.closeEditor,i=Object(a.useState)(void 0),d=Object(u.a)(i,2),m=d[0],g=d[1],E=Object(a.useState)(Object(c.a)({},n)),h=Object(u.a)(E,2),f=h[0],y=h[1],v=function(e){return y(Object(c.a)(Object(c.a)({},f),{},Object(s.a)({},e.target.name,e.target.value)))},N=Object(a.useMemo)((function(){return null===t||void 0===t?void 0:t.sort(p).map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"Editor"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o(f),e.currentTarget.reset()}},r.a.createElement("h1",null,"Add Person"),r.a.createElement("label",null,"Name:",r.a.createElement("input",{value:f.name||"",onChange:function(e){g(void 0),y(Object(c.a)(Object(c.a)({},f),{},{name:e.target.value}))},className:"right-aligned",placeholder:"John Doe",type:"text"})),r.a.createElement("label",null,"Year Born:",r.a.createElement("input",{name:"birth",value:f.birth,onChange:v,className:"right-aligned",placeholder:"1950",type:"number"})),r.a.createElement("label",null,"Year Died:",r.a.createElement("input",{name:"death",value:f.death,onChange:v,className:"right-aligned",placeholder:"2011",type:"number"})),r.a.createElement(b,{people:t,parents:f.parents,setParents:function(e){return y(Object(c.a)(Object(c.a)({},f),{},{parents:e}))}}),r.a.createElement("label",null,"Spouse:",r.a.createElement("select",{name:"spouse",className:"right-aligned",value:f.spouse,onChange:function(e){return y(Object(c.a)(Object(c.a)({},f),{},{spouse:e.target.value}))}},r.a.createElement("option",null),N)),m&&r.a.createElement("span",{className:"error right-aligned"},"* ".concat(m)),r.a.createElement("div",{id:"Editor_actions"},r.a.createElement("input",{type:"submit"}),r.a.createElement("button",{className:"secondary",onClick:function(e){e.preventDefault(),l()}},"Cancel")))),r.a.createElement("div",{id:"Editor_background",onClick:function(e){return l()}}))},v=n(10),N=n(11),O=n(14),j=n(13),S=n(12),C={NodeTypes:{empty:{typeText:"None",shapeId:"#empty",shape:r.a.createElement("symbol",{viewBox:"0 0 100 100",id:"empty",key:"0"},r.a.createElement("circle",{cx:"50",cy:"50",r:"45"}))},custom:{typeText:"Custom",shapeId:"#custom",shape:r.a.createElement("symbol",{viewBox:"0 0 50 25",id:"custom",key:"0"},r.a.createElement("ellipse",{cx:"50",cy:"25",rx:"50",ry:"25"}))}},NodeSubtypes:{},EdgeTypes:{emptyEdge:{shapeId:"#emptyEdge",shape:r.a.createElement("symbol",{viewBox:"0 0 50 50",id:"emptyEdge",key:"0"},r.a.createElement("circle",{cx:"25",cy:"25",r:"8",fill:"currentColor"}," "))}}},w=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).onSelectNode=function(){return console.log("onSelectNode")},a.onCreateNode=function(){return console.log("onCreateNode")},a.onUpdateNode=function(){return console.log("onUpdateNode")},a.onDeleteNode=function(){return console.log("onDeleteNode")},a.onSelectEdge=function(){return console.log("onSelectEdge")},a.onCreateEdge=function(){return console.log("onCreateEdge")},a.onSwapEdge=function(){return console.log("onSwapEdge")},a.onDeleteEdge=function(){return console.log("onDeleteEdge")},a.state={graph:e.graph,selected:e.selected},a}return Object(N.a)(n,[{key:"render",value:function(){var e=this.state.graph.nodes,t=this.state.graph.edges,n=this.state.selected,a=C.NodeTypes,o=C.NodeSubtypes,l=C.EdgeTypes;return r.a.createElement("div",{id:"graph"},r.a.createElement(S.GraphView,{ref:"GraphView",nodeKey:"id",nodes:e,edges:t,selected:n,nodeTypes:a,nodeSubtypes:o,edgeTypes:l,onSelectNode:this.onSelectNode,onCreateNode:this.onCreateNode,onUpdateNode:this.onUpdateNode,onDeleteNode:this.onDeleteNode,onSelectEdge:this.onSelectEdge,onCreateEdge:this.onCreateEdge,onSwapEdge:this.onSwapEdge,onDeleteEdge:this.onDeleteEdge}))}}]),n}(a.Component);n(24);var x=function(e){var t,n,o=e.people,l=e.person,c=e.openEditor,i=Object(a.useMemo)((function(){return E(o,l)}),[o,l]);return r.a.createElement("tr",{onClick:function(e){return c(l)}},r.a.createElement("td",null,i?r.a.createElement("strong",null,l.name):l.name),r.a.createElement("td",null,l.birth),r.a.createElement("td",null,l.death),r.a.createElement("td",null,null===(t=g(o,l))||void 0===t?void 0:t.map((function(e){return e.name})).join(", ")),r.a.createElement("td",null,null===(n=m(o,l))||void 0===n?void 0:n.name))};n(25);var k=function(e){var t=e.people,n=e.openEditor,o=Object(a.useMemo)((function(){return t.sort(p).map((function(e){return r.a.createElement(x,{key:e.id,people:t,person:e,openEditor:n})}))}),[t,n]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name (",function(e){return e.filter((function(t){return E(e,t)}))}(t).length,"/",t.filter((function(e){return e.name})).length,")"),r.a.createElement("th",null,"Birth (",t.filter((function(e){return e.birth})).length,")"),r.a.createElement("th",null,"Death (",t.filter((function(e){return e.death})).length,")"),r.a.createElement("th",null,"Parents (",Array.from(new Set(t.flatMap((function(e){return e.parents})))).length,")"),r.a.createElement("th",null,"Spouse (",t.filter((function(e){return e.spouse})).length,")"))),r.a.createElement("tbody",null,o)))};var D=function(){var e=localStorage.getItem("family"),t=e&&JSON.parse(e),n=Object(a.useState)(t||[]),o=Object(u.a)(n,2),l=o[0],s=o[1],p=Object(a.useState)(),g=Object(u.a)(p,2),E=g[0],h=g[1],f=Object(a.useState)(!1),b=Object(u.a)(f,2),v=b[0],N=b[1],O=Object(a.useState)(!1),j=Object(u.a)(O,2),S=j[0],C=j[1],x=function(){return N(!1)};return r.a.createElement("div",{id:"App",className:"center-aligned"},v&&r.a.createElement(y,{people:l,person:E,setPerson:function(e){var t={id:e.id?e.id:Object(d.a)(),name:e.name,birth:e.birth,death:e.death,parents:e.parents,spouse:e.spouse,last_updated:new Date},n=e.id?Object(i.a)(l):[t].concat(Object(i.a)(l));if(e.id&&(n[l.findIndex((function(t){return e.id===t.id}))]=t),e.spouse){var a=m(n,t),r=n.findIndex((function(e){return e.id===(null===a||void 0===a?void 0:a.id)})),o=Object(c.a)(Object(c.a)({},a),{},{spouse:t.id});n[r]=o}localStorage.setItem("family",JSON.stringify(n)),h(void 0),s(n),x()},closeEditor:x}),r.a.createElement("div",{id:"App_header"},r.a.createElement("h1",null,"Family Tree Builder"),!S&&r.a.createElement("button",{id:"App_add-person",className:"primary right-aligned",onClick:function(e){h(void 0),N(!0)}},"Add Person"),r.a.createElement("button",{id:"App_toggle-graph",className:"secondary"+(S?" right-aligned":""),onClick:function(e){C(!S)}},S?"Show Table":"Show Graph")),!S&&r.a.createElement(k,{people:l,openEditor:function(e){h(e),N(!0)}}),S&&r.a.createElement(w,{graph:{nodes:[{id:1,title:"Node A",x:258.3976135253906,y:331.9783248901367,type:"empty"},{id:2,title:"Node B",x:593.9393920898438,y:260.6060791015625,type:"empty"},{id:3,title:"Node C",x:237.5757598876953,y:61.81818389892578,type:"custom"},{id:4,title:"Node C",x:600.5757598876953,y:600.8181838989258,type:"custom"}],edges:[{source:1,target:2,type:"emptyEdge"},{source:2,target:4,type:"emptyEdge"}]},selected:{}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[15,1,2]]]);
//# sourceMappingURL=main.829c038d.chunk.js.map