(this.webpackJsonpfamily=this.webpackJsonpfamily||[]).push([[0],{25:function(e,t,n){e.exports=n.p+"static/media/helpIcon.f51255a2.svg"},31:function(e,t,n){e.exports=n(61)},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(24),i=n.n(l),o=(n(36),n(3)),c=n(14),u=n(5),s=n(63),m=(n(37),n(7)),d=function(e,t){return e&&e.last_updated?t&&t.last_updated?e.id===t.id?0:e.last_updated<t.last_updated?1:-1:1:-1},p=function(e,t){return e.find((function(e){return e.id===t.spouse}))},f=function(e,t){return e.filter((function(e){var n;return null===t||void 0===t||null===(n=t.parents)||void 0===n?void 0:n.includes(e.id)}))},h=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"406be5f4-09dc-46a4-b604-493f6243952d";return!!n.parents&&(!!n.parents.includes(a)||f(t,n).some((function(n){return e(t,n)})))},b=(n(38),n(25)),v=n.n(b);n(39);var E=function(e){var t=e.people,n=e.parents,l=e.setParents,i=Object(a.useMemo)((function(){return t.sort(d).map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))}),[t]);return r.a.createElement("label",null,"Parents:",r.a.createElement("img",{className:"helpIcon",src:v.a,id:"ParentSelector_helpIcon",alt:"help icon",title:"Ctrl + click to select multiple parents",tabIndex:0}),r.a.createElement("span",{id:"ParentSelector_helpIcon_text"},"Ctrl + click to select multiple parents"),r.a.createElement("select",{name:"parents",className:"right-aligned",multiple:!0,onChange:function(e){return l(Array.from(e.target.selectedOptions,(function(e){return e.value})))},value:n,size:10},i))};var g=function(e){var t=e.people,n=e.person,l=e.setPerson,i=e.closeEditor,c=Object(a.useState)(void 0),s=Object(u.a)(c,2),p=s[0],f=s[1],h=Object(a.useState)(Object(o.a)({},n)),b=Object(u.a)(h,2),v=b[0],g=b[1],O=function(e){return g(Object(o.a)(Object(o.a)({},v),{},Object(m.a)({},e.target.name,e.target.value)))},j=Object(a.useMemo)((function(){return null===t||void 0===t?void 0:t.sort(d).map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"Editor"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l(v),e.currentTarget.reset()}},r.a.createElement("h1",null,"Add Person"),r.a.createElement("label",null,"Name:",r.a.createElement("input",{value:v.name||"",onChange:function(e){f(void 0),g(Object(o.a)(Object(o.a)({},v),{},{name:e.target.value}))},className:"right-aligned",placeholder:"John Doe",type:"text"})),r.a.createElement("label",null,"Year Born:",r.a.createElement("input",{name:"birth",value:v.birth,onChange:O,className:"right-aligned",placeholder:"1950",type:"number"})),r.a.createElement("label",null,"Year Died:",r.a.createElement("input",{name:"death",value:v.death,onChange:O,className:"right-aligned",placeholder:"2011",type:"number"})),r.a.createElement(E,{people:t,parents:v.parents,setParents:function(e){return g(Object(o.a)(Object(o.a)({},v),{},{parents:e}))}}),r.a.createElement("label",null,"Spouse:",r.a.createElement("select",{name:"spouse",className:"right-aligned",value:v.spouse,onChange:function(e){return g(Object(o.a)(Object(o.a)({},v),{},{spouse:e.target.value}))}},r.a.createElement("option",null),j)),p&&r.a.createElement("span",{className:"error right-aligned"},"* ".concat(p)),r.a.createElement("div",{id:"Editor_actions"},r.a.createElement("input",{type:"submit"}),r.a.createElement("button",{className:"secondary",onClick:function(e){e.preventDefault(),i()}},"Cancel")))),r.a.createElement("div",{id:"Editor_background",onClick:function(e){return i()}}))},O=n(26),j=n(27),y=n(30),S=n(29),C=n(1),I=n.n(C),N=n(28),k=(n(58),function(e){Object(y.a)(n,e);var t=Object(S.a)(n);function n(e){var a;Object(O.a)(this,n),a=t.call(this,e);var r=e.family.sort((function(e,t){return e.birth&&t.birth&&e.birth<t.birth?-1:1})).map((function(e){return{id:e.id,parents:e.parents,spouses:e.spouse?[e.spouse]:void 0,title:e.name}}));return a.state={items:r},a}return Object(j.a)(n,[{key:"render",value:function(){var e={pageFitMode:I.a.common.PageFitMode.None,cursorItem:2,linesWidth:1,linesColor:"black",hasSelectorCheckbox:I.a.common.Enabled.False,normalLevelShift:20,dotLevelShift:20,lineLevelShift:20,normalItemsInterval:10,dotItemsInterval:30,lineItemsInterval:30,arrowsDirection:I.a.common.GroupByType.Parents,showExtraArrows:!1,defaultTemplateName:"template",templates:[{name:"template",itemSize:{width:100,height:50},minimizedItemSize:{width:3,height:3},highlightPadding:{left:2,top:2,right:2,bottom:2},onItemRender:function(e){var t=e.context;null!=t.itemTitleColor?t.itemTitleColor:I.a.common.Colors.RoyalBlue;return r.a.createElement("div",{className:"ContactTemplate"},r.a.createElement("div",{className:"ContactTitle"},t.title))}}],items:this.state.items};return r.a.createElement("div",{id:"graph"},r.a.createElement(N.FamDiagram,{centerOnCursor:!0,config:e}))}}]),n}(a.Component));n(59);var w=function(e){var t,n,l=e.people,i=e.person,o=e.openEditor,c=Object(a.useMemo)((function(){return h(l,i)}),[l,i]);return r.a.createElement("tr",{onClick:function(e){return o(i)}},r.a.createElement("td",null,c?r.a.createElement("strong",null,i.name):i.name),r.a.createElement("td",null,i.birth),r.a.createElement("td",null,i.death),r.a.createElement("td",null,null===(t=f(l,i))||void 0===t?void 0:t.map((function(e){return e.name})).join(", ")),r.a.createElement("td",null,null===(n=p(l,i))||void 0===n?void 0:n.name))};n(60);var P=function(e){var t=e.people,n=e.openEditor,l=Object(a.useMemo)((function(){return t.sort(d).map((function(e){return r.a.createElement(w,{key:e.id,people:t,person:e,openEditor:n})}))}),[t,n]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name (",function(e){return e.filter((function(t){return h(e,t)}))}(t).length,"/",t.filter((function(e){return e.name})).length,")"),r.a.createElement("th",null,"Birth (",t.filter((function(e){return e.birth})).length,")"),r.a.createElement("th",null,"Death (",t.filter((function(e){return e.death})).length,")"),r.a.createElement("th",null,"Parents (",Array.from(new Set(t.flatMap((function(e){return e.parents})))).length,")"),r.a.createElement("th",null,"Spouse (",t.filter((function(e){return e.spouse})).length,")"))),r.a.createElement("tbody",null,l)))};var _=function(){var e=localStorage.getItem("family"),t=e&&JSON.parse(e),n=Object(a.useState)(t||[]),l=Object(u.a)(n,2),i=l[0],m=l[1],d=Object(a.useState)(),f=Object(u.a)(d,2),h=f[0],b=f[1],v=Object(a.useState)(!1),E=Object(u.a)(v,2),O=E[0],j=E[1],y=Object(a.useState)(!1),S=Object(u.a)(y,2),C=S[0],I=S[1],N=function(){return j(!1)};return r.a.createElement("div",{id:"App",className:"center-aligned"},O&&r.a.createElement(g,{people:i,person:h,setPerson:function(e){var t={id:e.id?e.id:Object(s.a)(),name:e.name,birth:e.birth,death:e.death,parents:e.parents,spouse:e.spouse,last_updated:new Date},n=e.id?Object(c.a)(i):[t].concat(Object(c.a)(i));if(e.id&&(n[i.findIndex((function(t){return e.id===t.id}))]=t),e.spouse){var a=p(n,t),r=n.findIndex((function(e){return e.id===(null===a||void 0===a?void 0:a.id)})),l=Object(o.a)(Object(o.a)({},a),{},{spouse:t.id});n[r]=l}localStorage.setItem("family",JSON.stringify(n)),b(void 0),m(n),N()},closeEditor:N}),r.a.createElement("div",{id:"App_header"},r.a.createElement("h1",null,"Family Tree Builder"),!C&&r.a.createElement("button",{id:"App_add-person",className:"primary right-aligned",onClick:function(e){b(void 0),j(!0)}},"Add Person"),r.a.createElement("button",{id:"App_toggle-graph",className:"secondary"+(C?" right-aligned":""),onClick:function(e){I(!C)}},C?"Show Table":"Show Graph")),!C&&r.a.createElement(P,{people:i,openEditor:function(e){b(e),j(!0)}}),C&&r.a.createElement(k,{family:i}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.4a7abc06.chunk.js.map